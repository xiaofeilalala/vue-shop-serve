"use strict";(self["webpackChunkvue_shop"]=self["webpackChunkvue_shop"]||[]).push([[738],{5738:function(t,e,o){o.r(e),o.d(e,{default:function(){return p}});var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"good-wrapper"},[o("el-card",[o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:6}},[o("el-input",{attrs:{placeholder:"请输入商品名称",clearable:""},on:{clear:t.getGoodList},model:{value:t.goodInfo.query,callback:function(e){t.$set(t.goodInfo,"query",e)},expression:"goodInfo.query"}},[o("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.getGoodList},slot:"append"})],1)],1),o("el-col",{attrs:{span:2}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.addGood}},[t._v("新增商品")])],1)],1),o("el-table",{staticClass:"good-table",attrs:{data:t.goodList,border:"",stripe:""}},[o("el-table-column",{attrs:{type:"index",label:"#"}}),o("el-table-column",{attrs:{prop:"goods_name",width:"800",label:"商品名称"}}),o("el-table-column",{attrs:{prop:"goods_price",width:"140",label:"商品价格（元）"}}),o("el-table-column",{attrs:{prop:"goods_weight",width:"140",label:"商品重量（kg）"}}),o("el-table-column",{attrs:{prop:"add_time",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("formatTime")(e.row.add_time))+" ")]}}])}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(o){return t.editGood(e.row)}}},[t._v("编辑")]),o("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(o){return t.deleteGood(e.row)}}},[t._v("删除")])]}}])})],1),o("el-pagination",{attrs:{"current-page":t.goodInfo.pagenum,"page-sizes":[1,5,10,20],"page-size":t.goodInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},n=[],s=o(7906),r=o(6198),l=o(3219),i=o.n(l),c=(o(9319),{data:function(){return{goodList:[],goodInfo:{query:"",pagenum:1,pagesize:10},total:0}},created:function(){this.getGoodList()},methods:{getGoodList:function(){var t=this;return(0,r.Z)((0,s.Z)().mark((function e(){var o,a;return(0,s.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("goods",{params:t.goodInfo});case 2:if(o=e.sent,a=o.data,200===a.meta.status){e.next=6;break}return e.abrupt("return",t.$message.error(a.meta.msg));case 6:t.goodList=a.data.goods,t.total=a.data.total;case 8:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.goodInfo.pagesize=t,this.getGoodList()},handleCurrentChange:function(t){this.goodInfo.pagenum=t,this.getGoodList()},deleteGood:function(t){var e=this;this.$confirm("此操作将永久删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((0,r.Z)((0,s.Z)().mark((function o(){var a,n;return(0,s.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,e.$axios.delete("goods/".concat(t.goods_id));case 2:a=o.sent,n=a.data,200!==n.meta.status?e.$message.error(n.meta.msg):(e.$message.success(n.meta.msg),e.getGoodList());case 5:case"end":return o.stop()}}),o)})))).catch((function(){e.$message.info("取消删除")}))},addGood:function(){this.$router.push("goods/add")},editGood:function(t){this.$router.push({path:"/goods/edit/".concat(t.goods_id)})}},filters:{formatTime:function(t){return i()(t).locale("zh-cn").format("YYYY/MM/DD HH:mm:ss")}}}),u=c,d=o(1001),g=(0,d.Z)(u,a,n,!1,null,null,null),p=g.exports}}]);
//# sourceMappingURL=738.975909dd.js.map